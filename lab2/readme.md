Делал по статье https://habr.com/ru/post/217331/. 
Символы переходят между роторами с дополнительными преобразованиями, как было в реальной Энигме, а не напрямую (см рисунок).

Время прямого прохода в этой реализации равно времени обратного благодаря созданию дублирующего массива чисел в каждом роторе. В дублирующем массиве индексы и значения основного массива поменяны местами. Это позволяет исключить необходимость поиска по значению в массиве на обратном проходе. 

![рисунок](https://hsto.org/getpro/habr/post_images/af2/871/f34/af2871f3400f36b9dd8f11f4d945c03f.png)

